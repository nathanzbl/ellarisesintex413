<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Event Details</title>

<style>
    :root {
        --er-blue:     #99B7C6;
        --er-lavender: #978EC4;
        --er-cream:    #F9F5EA;
        --er-blush:    #FFD8D1;
        --er-pink:     #F9AFB1;
        --er-sage:     #9AB59D;
        --er-charcoal: #3A3F3B;
        --er-peach:    #F4B092;
        --er-rose:     #CE325B;
    }

    * {
        font-family: "Montserrat", system-ui, sans-serif;
        box-sizing: border-box;
    }

    body {
        margin: 0;
        background: var(--er-cream);
        color: var(--er-charcoal);
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    /* PAGE TITLE */
    .page-title {
        font-family: "DM Serif Display", serif;
        font-size: 2.3rem;
        text-align: center;
        margin: 2rem 0 0.25rem;
        letter-spacing: 0.05em;
    }

    /* SUBTITLE (DATE) */
    .date-heading {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 1.1rem;
        color: rgba(58,63,59,0.7);
        letter-spacing: 0.03em;
    }

    /* MAIN CARD */
    .container {
        width: 90%;
        max-width: 1100px;
        background: #ffffff;
        padding: 2.5rem;
        border-radius: 1.5rem;
        box-shadow: 0 14px 40px rgba(0,0,0,0.08);
        border-top: 6px solid var(--er-pink);
        margin-bottom: 3rem;
    }

    /* MESSAGE WHEN EMPTY */
    .no-events {
        text-align: center;
        font-size: 1.1rem;
        color: rgba(58,63,59,0.6);
        padding: 2rem 0;
    }

    /* EVENT CARD */
    .event-box {
        background: var(--er-cream);
        padding: 1.5rem 1.75rem;
        border-radius: 1.25rem;
        border-left: 6px solid var(--er-pink);
        margin-bottom: 1.75rem;
        box-shadow: 0 8px 22px rgba(0,0,0,0.05);
    }

    .event-box h3 {
        font-size: 1.45rem;
        margin: 0;
        font-family: "DM Serif Display", serif;
        letter-spacing: 0.03em;
        color: var(--er-charcoal);
    }

    .event-info p {
        margin: 0.35rem 0;
        font-size: 0.95rem;
        color: rgba(58,63,59,0.8);
    }

    /* BUTTON ROW */
    .btn-row {
        margin-top: 1.3rem;
        display: flex;
        gap: 1rem;
    }

    .btn-action {
        padding: 0.65rem 1.3rem;
        border-radius: 999px;
        border: none;
        font-weight: 700;
        font-size: 0.85rem;
        letter-spacing: 0.07em;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
        text-align: center;
        transition: all 0.18s ease;
    }

    .edit-btn {
        background: var(--er-blue);
        color: white;
        box-shadow: 0 6px 16px rgba(153,183,198,0.3);
    }

    .edit-btn:hover {
        background: var(--er-lavender);
        transform: translateY(-1px);
    }

    .delete-btn {
        background: var(--er-rose);
        color: white;
        box-shadow: 0 8px 20px rgba(206,50,91,0.25);
    }

    .delete-btn:hover {
        background: var(--er-peach);
        transform: translateY(-1px);
    }

</style>
</head>

<body>

<%- include('../common/navbar.ejs') %>

<h1 class="page-title">Event Details</h1>
<div class="date-heading"><strong>Date:</strong> <%= dateFormatted %></div>

<div class="container">

    <% if (events.length === 0) { %>
        <p class="no-events">No events scheduled for this date.</p>
    <% } %>

    <% events.forEach(ev => { %>
        <div class="event-box">
            <h3><%= ev.eventname %></h3>

            <div class="event-info">
                <p><strong>Description:</strong> <%= ev.eventdescription %></p>
                <p><strong>Location:</strong> <%= ev.eventlocation %></p>
                <p><strong>Starts:</strong> <%= ev.startTimeFormatted %></p>
                <p><strong>Ends:</strong> <%= ev.endTimeFormatted %></p>
                <p><strong>Capacity:</strong> <%= ev.eventcapacity %></p>
            </div>

            <div class="btn-row">
                <a class="btn-action edit-btn" href="/events/edit/<%= ev.eventid %>">Edit</a>

                <form action="/events/delete/<%= ev.eventid %>" method="POST">
                    <button class="btn-action delete-btn"
                            onclick="return confirm('Delete this event date?');">
                        Delete
                    </button>
                </form>
            </div>

        </div>
    <% }) %>

</div>
<%- include('../common/footer.ejs') %>
</body>
</html>
